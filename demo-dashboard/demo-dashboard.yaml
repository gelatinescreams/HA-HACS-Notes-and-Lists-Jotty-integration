title: Notes
icon: mdi:notebook
views:
  - title: Notes
    path: notes
    icon: mdi:note-text
    sections:
      - type: grid
        cards:
          - type: entities
            title: New Note
            entities:
              - entity: input_text.jotty_note_title
                name: Title
              - type: custom:lovelace-multiline-text-input-card
                buttons: false
                clear: false
                paste: false
                save: false
                entity: input_text.jotty_note_content
                autosave: true
                show_success_messages: false
            footer:
              type: buttons
              entities:
                - entity: script.jotty_create_note
                  name: Create
                  icon: mdi:plus-circle
                  tap_action:
                    action: call-service
                    service: script.jotty_create_note
            grid_options:
              columns: full
              rows: auto
          - type: entities
            title: Edit Note
            entities:
              - entity: input_select.jotty_note_picker
                name: Pick a note
              - type: divider
              - entity: input_text.jotty_edit_note_title
                name: Title
              - type: custom:lovelace-multiline-text-input-card
                entity: input_text.jotty_edit_note_content
                autosave: true
                show_success_messages: false
                buttons: false
            footer:
              type: buttons
              entities:
                - entity: script.jotty_save_edited_note
                  name: Save
                  icon: mdi:content-save
                - entity: script.jotty_delete_edited_note
                  name: Delete
                  icon: mdi:delete
                  tap_action:
                    action: call-service
                    service: script.jotty_delete_edited_note
                    confirmation:
                      text: Delete this note?
      - type: grid
        cards:
          - type: custom:html-template-card
            ignore_line_breaks: true
            content: |
              <style>
                @keyframes slideDown { from {top:40px;opacity:0;} to {top:60px;opacity:1;} }
                #jotty-loading {
                  display:none;
                  position:fixed;
                  top:60px;
                  left:50%;
                  transform:translateX(-50%);
                  z-index:9999;
                  background:#2196F3;
                  color:white;
                  padding:12px 24px;
                  border-radius:8px;
                  box-shadow:0 4px 12px rgba(0,0,0,0.3);
                  font-weight:600;
                  animation:slideDown 0.3s ease;
                }
                .notes-container { padding: 4px; }
                .note-card {
                  background: var(--ha-card-background, var(--card-background-color, white));
                  border: 1px solid var(--divider-color, #e0e0e0);
                  border-radius: 12px;
                  padding: 16px;
                  margin-bottom: 16px;
                  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                  transition: box-shadow 0.2s;
                }
                .note-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
                .note-title {
                  font-size: 1.4em;
                  font-weight: 600;
                  color: var(--primary-text-color);
                  margin-bottom: 12px;
                  padding-bottom: 8px;
                  border-bottom: 2px solid var(--primary-color);
                }
                .note-content {
                  color: var(--primary-text-color);
                  margin-bottom: 12px;
                  white-space: pre-wrap;
                  line-height: 1.6;
                  font-size: 1em;
                }
                .note-timestamp {
                  font-size: 0.85em;
                  color: var(--secondary-text-color);
                  font-style: italic;
                  text-align: right;
                }
              </style>
              <div id="jotty-loading">‚è≥ Processing...</div>
              <script>
                (function checkLoading(){
                  var banner=document.getElementById('jotty-loading');
                  if(banner){
                    var el=document.querySelector('home-assistant');
                    if(el&&el.hass&&el.hass.states['input_boolean.jotty_is_loading']){
                      var state=el.hass.states['input_boolean.jotty_is_loading'].state;
                      banner.style.display=state==='on'?'block':'none';
                    }
                  }
                  setTimeout(checkLoading,300);
                })();
              </script>
              <div class="notes-container">
                {% set ns = namespace(count=0, notes=[]) %}
                {% for state in states.sensor %}
                  {% if state.name.startswith('Jotty Note:') and state.state != 'unavailable' %}
                    {% set ns.notes = ns.notes + [state] %}
                  {% endif %}
                {% endfor %}
                {% for state in ns.notes | sort(attribute='attributes.updated', reverse=true) %}
                  {% set ns.count = ns.count + 1 %}
                  {% if ns.count is odd %}
                    {% set note_id = state_attr(state.entity_id, 'note_id') %}
                    <div class="note-card">
                      <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:12px;">
                        <div class="note-title" style="flex-grow:1; margin-bottom:0; padding-bottom:8px; border-bottom:none;">{{ state.state }}</div>
                        <button style="padding:4px 12px; background:var(--error-color,#ff5555); color:white; border:none; border-radius:4px; cursor:pointer; font-size:0.85em;" onclick="if(confirm('Delete {{ state.state }}?')){this.disabled=true; const el=document.querySelector('home-assistant'); if(el&&el.hass){el.hass.callService('jotty','delete_note',{note_id:'{{ note_id }}'});}}">üóëÔ∏è</button>
                      </div>
                      <div class="note-content">{{ state_attr(state.entity_id, 'content') }}</div>
                      <div class="note-timestamp">
                        Updated {{ relative_time(strptime(state_attr(state.entity_id, 'updated'), '%Y-%m-%dT%H:%M:%S.%fZ')) }} ago
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
      - type: grid
        cards:
          - type: custom:html-template-card
            ignore_line_breaks: true
            content: |
              <style>
                .notes-container { padding: 4px; }
                .note-card {
                  background: var(--ha-card-background, var(--card-background-color, white));
                  border: 1px solid var(--divider-color, #e0e0e0);
                  border-radius: 12px;
                  padding: 16px;
                  margin-bottom: 16px;
                  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                  transition: box-shadow 0.2s;
                }
                .note-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
                .note-title {
                  font-size: 1.4em;
                  font-weight: 600;
                  color: var(--primary-text-color);
                  margin-bottom: 12px;
                  padding-bottom: 8px;
                  border-bottom: 2px solid var(--primary-color);
                }
                .note-content {
                  color: var(--primary-text-color);
                  margin-bottom: 12px;
                  white-space: pre-wrap;
                  line-height: 1.6;
                  font-size: 1em;
                }
                .note-timestamp {
                  font-size: 0.85em;
                  color: var(--secondary-text-color);
                  font-style: italic;
                  text-align: right;
                }
              </style>
              <div class="notes-container">
                {% set ns = namespace(count=0, notes=[]) %}
                {% for state in states.sensor %}
                  {% if state.name.startswith('Jotty Note:') and state.state != 'unavailable' %}
                    {% set ns.notes = ns.notes + [state] %}
                  {% endif %}
                {% endfor %}
                {% for state in ns.notes | sort(attribute='attributes.updated', reverse=true) %}
                  {% set ns.count = ns.count + 1 %}
                  {% if ns.count is even %}
                    {% set note_id = state_attr(state.entity_id, 'note_id') %}
                    <div class="note-card">
                      <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:12px;">
                        <div class="note-title" style="flex-grow:1; margin-bottom:0; padding-bottom:8px; border-bottom:none;">{{ state.state }}</div>
                        <button style="padding:4px 12px; background:var(--error-color,#ff5555); color:white; border:none; border-radius:4px; cursor:pointer; font-size:0.85em;" onclick="if(confirm('Delete {{ state.state }}?')){this.disabled=true; const el=document.querySelector('home-assistant'); if(el&&el.hass){el.hass.callService('jotty','delete_note',{note_id:'{{ note_id }}'});}}">üóëÔ∏è</button>
                      </div>
                      <div class="note-content">{{ state_attr(state.entity_id, 'content') }}</div>
                      <div class="note-timestamp">
                        Updated {{ relative_time(strptime(state_attr(state.entity_id, 'updated'), '%Y-%m-%dT%H:%M:%S.%fZ')) }} ago
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
  - title: Lists
    path: lists
    icon: mdi:format-list-checks
    sections:
      - type: grid
        cards:
          - type: entities
            title: New List
            entities:
              - entity: input_text.jotty_checklist_title
                name: Title
              - entity: input_select.jotty_checklist_type
                name: Type
            footer:
              type: buttons
              entities:
                - entity: script.jotty_create_checklist
                  name: Create
                  icon: mdi:plus-circle
            grid_options:
              columns: full
              rows: auto
      - type: grid
        cards:
          - type: custom:html-template-card
            ignore_line_breaks: true
            content: |
              <style>
                @keyframes slideDown { from {top:40px;opacity:0;} to {top:60px;opacity:1;} }
                #jotty-loading-lists {
                  display:none;
                  position:fixed;
                  top:60px;
                  left:50%;
                  transform:translateX(-50%);
                  z-index:9999;
                  background:#4CAF50;
                  color:white;
                  padding:12px 24px;
                  border-radius:8px;
                  box-shadow:0 4px 12px rgba(0,0,0,0.3);
                  font-weight:600;
                  animation:slideDown 0.3s ease;
                }
                .lists-container { padding: 4px; }
                .list-card {
                  background: var(--ha-card-background, var(--card-background-color, white));
                  border: 1px solid var(--divider-color, #e0e0e0);
                  border-radius: 12px;
                  padding: 16px;
                  margin-bottom: 20px;
                  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
                .list-header {
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 12px;
                  padding-bottom: 12px;
                  border-bottom: 2px solid var(--primary-color);
                }
                .list-title { font-size: 1.4em; font-weight: 600; color: var(--primary-text-color); }
                .list-progress {
                  font-size: 0.9em;
                  background: var(--primary-color);
                  color: white;
                  padding: 4px 12px;
                  border-radius: 12px;
                }
                .list-items { margin-top: 12px; }
                .list-item {
                  display: flex;
                  align-items: center;
                  padding: 8px;
                  margin-bottom: 8px;
                  background: var(--secondary-background-color, #f5f5f5);
                  border-radius: 8px;
                  gap: 12px;
                  transition: opacity 0.2s;
                }
                .list-item:hover { background: var(--divider-color, #e0e0e0); }
                .item-checkbox { width: 24px; height: 24px; cursor: pointer; flex-shrink: 0; }
                .item-checkbox:disabled { cursor: wait; }
                .item-text { flex-grow: 1; color: var(--primary-text-color); font-size: 1em; }
                .item-text.completed { text-decoration: line-through; opacity: 0.6; }
                .item-status-select {
                  padding: 4px 8px;
                  border-radius: 4px;
                  border: 1px solid var(--divider-color);
                  background: var(--card-background-color);
                  color: var(--primary-text-color);
                  font-size: 0.9em;
                  cursor: pointer;
                }
                .item-status-select:disabled { cursor: wait; }
                .add-item-section {
                  margin-top: 16px;
                  padding-top: 12px;
                  border-top: 1px solid var(--divider-color);
                  display: flex;
                  gap: 8px;
                }
                .add-item-input {
                  flex-grow: 1;
                  padding: 8px 12px;
                  border: 1px solid var(--divider-color);
                  border-radius: 4px;
                  background: var(--card-background-color);
                  color: var(--primary-text-color);
                  font-size: 1em;
                }
                .add-item-btn {
                  padding: 8px 16px;
                  background: var(--primary-color);
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
                  font-size: 0.9em;
                }
                .add-item-btn:hover { opacity: 0.9; }
                .add-item-btn:disabled { opacity: 0.5; cursor: not-allowed; }
                .delete-list-btn {
                  padding: 4px 12px;
                  background: var(--error-color, #ff5555);
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
                  font-size: 0.85em;
                }
              </style>
              <div id="jotty-loading-lists">‚è≥ Processing...</div>
              <script>
                (function checkLoading(){
                  var banner=document.getElementById('jotty-loading-lists');
                  if(banner){
                    var el=document.querySelector('home-assistant');
                    if(el&&el.hass&&el.hass.states['input_boolean.jotty_is_loading']){
                      var state=el.hass.states['input_boolean.jotty_is_loading'].state;
                      banner.style.display=state==='on'?'block':'none';
                    }
                  }
                  setTimeout(checkLoading,300);
                })();
              </script>
              <div class="lists-container">
                {% set ns = namespace(count=0, lists=[]) %}
                {% for state in states.sensor %}
                  {% if state.name.startswith('Jotty List:') and state.state != 'unavailable' %}
                    {% set ns.lists = ns.lists + [state] %}
                  {% endif %}
                {% endfor %}
                {% for state in ns.lists | sort(attribute='attributes.updated', reverse=true) %}
                  {% set ns.count = ns.count + 1 %}
                  {% if ns.count is odd %}
                    {% set list_id = state_attr(state.entity_id, 'checklist_id') %}
                    {% set list_title = state_attr(state.entity_id, 'title') %}
                    {% set list_type = state_attr(state.entity_id, 'type') %}
                    {% set items = state_attr(state.entity_id, 'items') or [] %}
                    {% set completed = state_attr(state.entity_id, 'completed') %}
                    {% set total = state_attr(state.entity_id, 'total') %}
                    <div class="list-card">
                      <div class="list-header">
                        <div class="list-title">{{ list_title }}</div>
                        <div class="list-progress">{{ completed }}/{{ total }}</div>
                      </div>
                      <div class="list-items">
                        {% for item in items %}
                          <div class="list-item">
                            <input type="checkbox" class="item-checkbox" {{ 'checked' if item.completed else '' }} onchange="(function(cb){cb.disabled=true;cb.parentElement.style.opacity='0.5';const act=cb.checked?'check':'uncheck';const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||{{ loop.index0 }}|||'+act});}setTimeout(function(){cb.disabled=false;cb.parentElement.style.opacity='1';},1000);})(this);">
                            <span class="item-text {{ 'completed' if item.completed else '' }}">{{ item.text }}</span>
                            {% if list_type == 'task' %}
                              <select class="item-status-select" onchange="(function(sel){sel.disabled=true;sel.parentElement.style.opacity='0.5';const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||{{ loop.index0 }}|||status|||'+sel.value});}setTimeout(function(){sel.disabled=false;sel.parentElement.style.opacity='1';},1000);})(this);">
                                <option value="todo" {{ 'selected' if item.get('status') == 'todo' else '' }}>To Do</option>
                                <option value="in_progress" {{ 'selected' if item.get('status') == 'in_progress' else '' }}>In Progress</option>
                                <option value="paused" {{ 'selected' if item.get('status') == 'paused' else '' }}>Paused</option>
                                <option value="completed" {{ 'selected' if item.get('status') == 'completed' else '' }}>Completed</option>
                              </select>
                            {% endif %}
                          </div>
                        {% endfor %}
                      </div>
                      <div class="add-item-section">
                        <input type="text" class="add-item-input" placeholder="Add new item...">
                        <button class="add-item-btn" onclick="(function(btn){const inp=btn.previousElementSibling;if(!inp.value.trim()){inp.placeholder='Type something first!';setTimeout(function(){inp.placeholder='Add new item...';},2000);return;}const txt=inp.value.trim();inp.value='';inp.placeholder='Adding...';btn.disabled=true;const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||add|||'+txt});}setTimeout(function(){inp.placeholder='Add new item...';btn.disabled=false;},2000);})(this);">‚ûï Add</button>
                        <button class="delete-list-btn" onclick="if(confirm('Delete {{ list_title }}?')){(function(btn){btn.disabled=true;const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||delete'});}})(this);}">üóëÔ∏è</button>
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
      - type: grid
        cards:
          - type: custom:html-template-card
            ignore_line_breaks: true
            content: |
              <style>
                .lists-container { padding: 4px; }
                .list-card {
                  background: var(--ha-card-background, var(--card-background-color, white));
                  border: 1px solid var(--divider-color, #e0e0e0);
                  border-radius: 12px;
                  padding: 16px;
                  margin-bottom: 20px;
                  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                }
                .list-header {
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 12px;
                  padding-bottom: 12px;
                  border-bottom: 2px solid var(--primary-color);
                }
                .list-title { font-size: 1.4em; font-weight: 600; color: var(--primary-text-color); }
                .list-progress {
                  font-size: 0.9em;
                  background: var(--primary-color);
                  color: white;
                  padding: 4px 12px;
                  border-radius: 12px;
                }
                .list-items { margin-top: 12px; }
                .list-item {
                  display: flex;
                  align-items: center;
                  padding: 8px;
                  margin-bottom: 8px;
                  background: var(--secondary-background-color, #f5f5f5);
                  border-radius: 8px;
                  gap: 12px;
                  transition: opacity 0.2s;
                }
                .list-item:hover { background: var(--divider-color, #e0e0e0); }
                .item-checkbox { width: 24px; height: 24px; cursor: pointer; flex-shrink: 0; }
                .item-checkbox:disabled { cursor: wait; }
                .item-text { flex-grow: 1; color: var(--primary-text-color); font-size: 1em; }
                .item-text.completed { text-decoration: line-through; opacity: 0.6; }
                .item-status-select {
                  padding: 4px 8px;
                  border-radius: 4px;
                  border: 1px solid var(--divider-color);
                  background: var(--card-background-color);
                  color: var(--primary-text-color);
                  font-size: 0.9em;
                  cursor: pointer;
                }
                .item-status-select:disabled { cursor: wait; }
                .add-item-section {
                  margin-top: 16px;
                  padding-top: 12px;
                  border-top: 1px solid var(--divider-color);
                  display: flex;
                  gap: 8px;
                }
                .add-item-input {
                  flex-grow: 1;
                  padding: 8px 12px;
                  border: 1px solid var(--divider-color);
                  border-radius: 4px;
                  background: var(--card-background-color);
                  color: var(--primary-text-color);
                  font-size: 1em;
                }
                .add-item-btn {
                  padding: 8px 16px;
                  background: var(--primary-color);
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
                  font-size: 0.9em;
                }
                .add-item-btn:hover { opacity: 0.9; }
                .add-item-btn:disabled { opacity: 0.5; cursor: not-allowed; }
                .delete-list-btn {
                  padding: 4px 12px;
                  background: var(--error-color, #ff5555);
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
                  font-size: 0.85em;
                }
              </style>
              <div class="lists-container">
                {% set ns = namespace(count=0, lists=[]) %}
                {% for state in states.sensor %}
                  {% if state.name.startswith('Jotty List:') and state.state != 'unavailable' %}
                    {% set ns.lists = ns.lists + [state] %}
                  {% endif %}
                {% endfor %}
                {% for state in ns.lists | sort(attribute='attributes.updated', reverse=true) %}
                  {% set ns.count = ns.count + 1 %}
                  {% if ns.count is even %}
                    {% set list_id = state_attr(state.entity_id, 'checklist_id') %}
                    {% set list_title = state_attr(state.entity_id, 'title') %}
                    {% set list_type = state_attr(state.entity_id, 'type') %}
                    {% set items = state_attr(state.entity_id, 'items') or [] %}
                    {% set completed = state_attr(state.entity_id, 'completed') %}
                    {% set total = state_attr(state.entity_id, 'total') %}
                    <div class="list-card">
                      <div class="list-header">
                        <div class="list-title">{{ list_title }}</div>
                        <div class="list-progress">{{ completed }}/{{ total }}</div>
                      </div>
                      <div class="list-items">
                        {% for item in items %}
                          <div class="list-item">
                            <input type="checkbox" class="item-checkbox" {{ 'checked' if item.completed else '' }} onchange="(function(cb){cb.disabled=true;cb.parentElement.style.opacity='0.5';const act=cb.checked?'check':'uncheck';const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||{{ loop.index0 }}|||'+act});}setTimeout(function(){cb.disabled=false;cb.parentElement.style.opacity='1';},1000);})(this);">
                            <span class="item-text {{ 'completed' if item.completed else '' }}">{{ item.text }}</span>
                            {% if list_type == 'task' %}
                              <select class="item-status-select" onchange="(function(sel){sel.disabled=true;sel.parentElement.style.opacity='0.5';const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||{{ loop.index0 }}|||status|||'+sel.value});}setTimeout(function(){sel.disabled=false;sel.parentElement.style.opacity='1';},1000);})(this);">
                                <option value="todo" {{ 'selected' if item.get('status') == 'todo' else '' }}>To Do</option>
                                <option value="in_progress" {{ 'selected' if item.get('status') == 'in_progress' else '' }}>In Progress</option>
                                <option value="paused" {{ 'selected' if item.get('status') == 'paused' else '' }}>Paused</option>
                                <option value="completed" {{ 'selected' if item.get('status') == 'completed' else '' }}>Completed</option>
                              </select>
                            {% endif %}
                          </div>
                        {% endfor %}
                      </div>
                      <div class="add-item-section">
                        <input type="text" class="add-item-input" placeholder="Add new item...">
                        <button class="add-item-btn" onclick="(function(btn){const inp=btn.previousElementSibling;if(!inp.value.trim()){inp.placeholder='Type something first!';setTimeout(function(){inp.placeholder='Add new item...';},2000);return;}const txt=inp.value.trim();inp.value='';inp.placeholder='Adding...';btn.disabled=true;const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||add|||'+txt});}setTimeout(function(){inp.placeholder='Add new item...';btn.disabled=false;},2000);})(this);">‚ûï Add</button>
                        <button class="delete-list-btn" onclick="if(confirm('Delete {{ list_title }}?')){(function(btn){btn.disabled=true;const el=document.querySelector('home-assistant');if(el&&el.hass){el.hass.callService('input_text','set_value',{entity_id:'input_text.jotty_quick_action_data',value:'{{ list_id }}|||delete'});}})(this);}">üóëÔ∏è</button>
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
  - title: Quick
    path: quick
    icon: mdi:lightning-bolt
    cards:
      - type: markdown
        content: |
          # Quick Actions
          One-tap notes and lists!
      - type: button
        name: Refresh All Data
        icon: mdi:refresh
        tap_action:
          action: call-service
          service: script.jotty_refresh_dashboard_data
        show_state: false
      - type: grid
        columns: 2
        cards:
          - type: button
            name: Shopping List
            icon: mdi:cart
            tap_action:
              action: call-service
              service: jotty.create_checklist
              service_data:
                title: Shopping List
                type: simple
          - type: button
            name: To-Do Today
            icon: mdi:calendar-today
            tap_action:
              action: call-service
              service: jotty.create_checklist
              service_data:
                title: '{{ now().strftime(''%A'') }} Tasks'
                type: task
          - type: button
            name: Quick Note
            icon: mdi:note-plus
            tap_action:
              action: call-service
              service: jotty.create_note
              service_data:
                title: Note: {{ now().strftime('%H:%M') }}
                content: ''
          - type: button
            name: Reminder
            icon: mdi:bell
            tap_action:
              action: call-service
              service: jotty.create_note
              service_data:
                title: Reminder
                content: Don't forget to...
          - type: button
            name: Meal Plan
            icon: mdi:food
            tap_action:
              action: call-service
              service: jotty.create_note
              service_data:
                title: Meal Plan
                content: |-
                  Monday:
                  Tuesday:
                  Wednesday:
          - type: button
            name: Packing List
            icon: mdi:bag-checked
            tap_action:
              action: call-service
              service: jotty.create_checklist
              service_data:
                title: Packing List
                type: simple
          - type: button
            name: Update Dropdowns
            icon: mdi:sync
            tap_action:
              action: call-service
              service: script.jotty_update_both_dropdowns
          - type: button
            name: Force Refresh
            icon: mdi:database-refresh
            tap_action:
              action: call-service
              service: homeassistant.update_entity
              service_data:
                entity_id:
                  - sensor.jotty_total_notes
                  - sensor.jotty_total_checklists
  - title: Stats
    path: stats
    icon: mdi:chart-box
    cards:
      - type: markdown
        content: |
          # Family Stats
      - type: horizontal-stack
        cards:
          - type: statistic
            entity: sensor.jotty_total_notes
            name: Notes
            stat_type: mean
            period: 999
          - type: statistic
            entity: sensor.jotty_total_checklists
            name: Lists
            stat_type: mean
            period: 999
          - type: statistic
            entity: sensor.jotty_completion_rate
            name: Done
            unit: '%'
            stat_type: mean
            period: 999
      - type: horizontal-stack
        cards:
          - type: statistic
            entity: sensor.jotty_total_items
            name: Items
            stat_type: mean
            period: 99
          - type: statistic
            entity: sensor.jotty_completed_items
            name: Done
            stat_type: mean
            period: 99
          - type: statistic
            entity: sensor.jotty_pending_items
            name: Pending
            stat_type: mean
            period: 99
      - type: entities
        title: Detailed Statistics
        entities:
          - entity: sensor.jotty_total_notes
            name: Total Notes
            icon: mdi:note-text
          - entity: sensor.jotty_total_checklists
            name: Total Lists
            icon: mdi:format-list-checks
          - entity: sensor.jotty_total_items
            name: Total Items
            icon: mdi:checkbox-multiple-marked
          - entity: sensor.jotty_completed_items
            name: Completed Items
            icon: mdi:check-all
          - entity: sensor.jotty_pending_items
            name: Pending Items
            icon: mdi:clock-outline
          - entity: sensor.jotty_completion_rate
            name: Completion Rate
            icon: mdi:percent